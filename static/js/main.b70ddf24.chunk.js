(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){e.exports={cancelButton:"cancel-button_cancelButton__3hcP9"}},101:function(e,t,n){e.exports={projectCreate:"project-create_projectCreate__1W4WX"}},105:function(e,t,n){e.exports=n(199)},110:function(e,t,n){},199:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(56),c=n.n(o),i=(n(110),n(27)),s=n(3),u={userName:"",userEmail:"",userPassword:"",isUserAuthorized:0,uid:0,uName:""};var l={nameProject:"Name Project",descriptionProject:"It's my project..."};var p={userProjectsIds:[],ownProjectsFreeData:[],otherProjectsFreeData:[],ownProjectsPage:{title:"Your own projects",buttons:[{text:"Edit",link:"/editor/",dynamicLink:!0},{text:"Leave",link:""},{text:"Invite",link:"/invitations/",dynamicLink:!0}],changeProjectListButton:{text:"See other projects",link:"/other-projects"}},otherProjectsPage:{title:"Projects of other users",buttons:[{text:"Request",link:"/request/",dynamicLink:!0}],changeProjectListButton:{text:"See your own projects",link:"/own-projects"}},selectedId:""};var d={projectBody:"test"};var m={motivation:"I am the best..."};var h={invitationPage:{title:"Invite other user into your projects",buttons:[],changeProjectListButton:{text:"See your own projects",link:"/own-projects"}},projectRequests:[]};var f=Object(i.combineReducers)({authorization:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_NAME":return Object(s.a)({},e,{userName:t.payload.userName});case"CHANGE_EMAIL":return Object(s.a)({},e,{userEmail:t.payload.userEmail});case"CHANGE_PASSWORD":return Object(s.a)({},e,{userPassword:t.payload.userPassword});case"CLEAR_INPUTS":return Object(s.a)({},e,{userName:t.payload.userName,userEmail:t.payload.userEmail,userPassword:t.payload.userPassword});case"CHANGE_USER_STATUS":return Object(s.a)({},e,{uid:t.payload.uid,isUserAuthorized:t.payload.isUserAuthorized,uName:t.payload.uName});default:return e}},creating:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_NAME_PROJECT":return Object(s.a)({},e,{nameProject:t.payload.nameProject});case"CHANGE_DESCRIPTION_PROJECT":return Object(s.a)({},e,{descriptionProject:t.payload.descriptionProject});default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_OWN_PROJECTS_IDS":return Object(s.a)({},e,{userProjectsIds:t.payload});case"SET_PROJECTS_FREE_DATA":return Object(s.a)({},e,{ownProjectsFreeData:t.payload.own,otherProjectsFreeData:t.payload.other});case"SET_SELECTED_PROJECT":return Object(s.a)({},e,{selectedId:t.payload.selectedId});default:return e}},editor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PROJECT_BODY":case"CHANGE_PROJECT_TEXT":return Object(s.a)({},e,{projectBody:t.payload.text});default:return e}},request:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_MOTIVATION":case"SET_INITIAL_STATE":return Object(s.a)({},e,{motivation:t.payload.motivation});default:return e}},invitation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PROJECT_REQUESTS":return Object(s.a)({},e,{projectRequests:t.payload.projectRequests});default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var v=n(5),j=n(4),E=n(29),_=n(12),g=n(13),b=n(21),y=n(20),P=n(22),C=n(98),N=n.n(C),w=function(e){var t=e.styleButton||"";return r.a.createElement("button",{className:"".concat(N.a.button," ").concat(t),onClick:e.onClickButton},e.text)},O=n(76),k=n.n(O),x=function(e){return r.a.createElement("label",{className:k.a.labelBlock},e.name,r.a.createElement("br",null),r.a.createElement("input",{type:e.type,className:k.a.input,onChange:e.onChangeInput,value:e.inputValue}))},A=n(77),I=n.n(A),T=n(1),D=n.n(T),S=n(6),B=n(58),R=(n(191),n(192),{apiKey:"AIzaSyDwj-AbdZmydrTmGRY7ynn2ljezu-exkTI",authDomain:"texting-c6aa6.firebaseapp.com",databaseURL:"https://texting-c6aa6.firebaseio.com",projectId:"texting-c6aa6",storageBucket:"texting-c6aa6.appspot.com",messagingSenderId:"62385937036"}),U=new(function(){function e(){Object(_.a)(this,e),B.initializeApp(R),this.auth=B.auth(),this.db=B.database(),this.usersPath="projects/users/",this.freeDataPath="projects/freeData/",this.mainDataPath="projects/mainData/",this.requestsPath="/request/"}return Object(g.a)(e,[{key:"signIn",value:function(e,t){return this.auth.signInWithEmailAndPassword(e,t)}},{key:"register",value:function(){var e=Object(S.a)(D.a.mark(function e(t,n,a){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.createUserWithEmailAndPassword(n,a);case 2:return e.abrupt("return",this.auth.currentUser.updateProfile({displayName:t}));case 3:case"end":return e.stop()}},e,this)}));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"handlerUserAuth",value:function(){var e=this;return new Promise(function(t){e.auth.onAuthStateChanged(t)})}},{key:"createNewProject",value:function(){var e=Object(S.a)(D.a.mark(function e(t,n,a,r){var o,c,i,s,u,l;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.usersPath,c=this.freeDataPath,i=this.mainDataPath,s=new Date,u=s.getDate()+"."+(s.getMonth()+1)+"."+s.getFullYear(),e.next=7,this.db.ref().child("users").push().key;case 7:l=e.sent,this.db.ref("".concat(o).concat(l)).set({usersIds:[t]}),this.db.ref("".concat(c).concat(l)).set({usersNames:[n],title:a,description:r,creatingDate:u}),this.db.ref("".concat(i).concat(l)).set({body:""});case 11:case"end":return e.stop()}},e,this)}));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"getUsersIds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.usersPath;return this.db.ref("".concat(t).concat(e)).once("value")}},{key:"getFreeData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.freeDataPath;return this.db.ref("".concat(t).concat(e)).once("value")}},{key:"getMainData",value:function(e){var t=this.mainDataPath;return this.db.ref("".concat(t).concat(e,"/body")).once("value")}},{key:"updateProjectBody",value:function(e,t){var n=this.mainDataPath,a={body:t},r={};return r["".concat(n).concat(e)]=a,this.db.ref().update(r)}},{key:"checkExistingRequests",value:function(e){var t=this.mainDataPath,n=this.requestsPath;return this.db.ref("".concat(t).concat(e).concat(n)).once("value")}},{key:"sendRequest",value:function(e,t){var n=this.mainDataPath,a=this.requestsPath;this.db.ref("".concat(n).concat(e).concat(a)).set(t)}},{key:"updateUsersInProject",value:function(e,t,n){var a=this.usersPath,r=this.freeDataPath,o={};return o["".concat(a).concat(e)]=t,o["".concat(r).concat(e)]=n,this.db.ref().update(o)}},{key:"getProjectRequests",value:function(e){var t=this.mainDataPath,n=this.requestsPath;return this.db.ref("".concat(t).concat(e).concat(n)).once("value")}}]),e}());function z(e,t){if(e)return{type:"CHANGE_USER_STATUS",payload:{uid:e.uid||"",uName:e.displayName||"",isUserAuthorized:t}}}var q=function(e){function t(e){return Object(_.a)(this,t),Object(b.a)(this,Object(y.a)(t).call(this,e))}return Object(P.a)(t,e),Object(g.a)(t,[{key:"render",value:function(){var e=this.props;return e.isUserAuthorized>0?r.a.createElement(E.a,{to:"/"}):r.a.createElement("div",{className:I.a.authorization},r.a.createElement("h1",null,"Welcome"),r.a.createElement(x,{name:"Username",type:"text",onChangeInput:function(t){return e.onChangeName(t)},inputValue:e.userName}),r.a.createElement(x,{name:"Email",type:"email",onChangeInput:function(t){return e.onChangeEmail(t)},inputValue:e.userEmail}),r.a.createElement(x,{name:"Password",type:"password",onChangeInput:function(t){return e.onChangePassword(t)},inputValue:e.userPassword}),r.a.createElement("div",{className:I.a.buttonsContainer},r.a.createElement(j.b,{to:"/own-projects"},r.a.createElement(w,{text:"Sign in",onClickButton:e.onSignIn})),r.a.createElement(j.b,{to:"/own-projects"},r.a.createElement(w,{text:"Sign up",onClickButton:e.onSignUp}))))}}]),t}(a.Component);var L=Object(v.b)(function(e){var t=e.authorization;return{userName:t.userName,userEmail:t.userEmail,userPassword:t.userPassword,isUserAuthorized:t.isUserAuthorized}},function(e){return{onSignIn:function(){e(function(e,t){var n=t().authorization,a=n.userEmail,r=n.userPassword;U.signIn(a,r).then(function(){return e({type:"CLEAR_INPUTS",payload:{userName:"",userEmail:"",userPassword:""}})}).catch(function(t){console.log(t.message),e({type:"CLEAR_INPUTS",payload:{userName:"",userEmail:"",userPassword:""}})})})},onSignUp:function(){e(function(e,t){var n=t().authorization,a=n.userName,r=n.userEmail,o=n.userPassword;U.register(a,r,o).then(function(){return e({type:"CLEAR_INPUTS",payload:{userName:"",userEmail:"",userPassword:""}})}).catch(function(t){var n=t.code,a=t.message;console.log(n,a),e({type:"CLEAR_INPUTS",payload:{userName:"",userEmail:"",userPassword:""}})})})},onChangeName:function(t){e(function(e){return{type:"CHANGE_NAME",payload:{userName:e.target.value}}}(t))},onChangeEmail:function(t){e(function(e){return{type:"CHANGE_EMAIL",payload:{userEmail:e.target.value}}}(t))},onChangePassword:function(t){e(function(e){return{type:"CHANGE_PASSWORD",payload:{userPassword:e.target.value}}}(t))}}})(q),F=n(59),H=n.n(F),G=n(100),J=n.n(G),M=function(e){return r.a.createElement(w,{styleButton:J.a.cancelButton,text:"Cancel",onClickButton:e.onClickCancel})},W=n(30),Y=n.n(W);var V=function(e){function t(e){var n;return Object(_.a)(this,t),(n=Object(b.a)(this,Object(y.a)(t).call(this,e))).id=n.props.match.params.id,n}return Object(P.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.getProjectBody(this.id)}},{key:"render",value:function(){var e=this.props,t=this.id;return e.isUserAuthorized<=0?r.a.createElement(E.a,{to:"/"}):r.a.createElement("div",{className:H.a.editor},r.a.createElement(Y.a,{className:H.a.projectText,html:e.projectBody,onChange:e.onChangeProjectText}),r.a.createElement("div",{className:H.a.buttons},r.a.createElement(M,null),r.a.createElement(w,{text:"Accept changes",onClickButton:e.onPushChanges.bind(this,t)})))}}]),t}(a.Component);var Q=Object(v.b)(function(e){var t=e.editor,n=e.authorization;return{projectBody:t.projectBody,isUserAuthorized:n.isUserAuthorized}},function(e){return{getProjectBody:function(t){var n;e((n=t,function(){var e=Object(S.a)(D.a.mark(function e(t){var a;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.getMainData(n);case 2:a=e.sent,t({type:"SET_PROJECT_BODY",payload:{text:a.val()}});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()))},onChangeProjectText:function(t){e(function(e){return{type:"CHANGE_PROJECT_TEXT",payload:{text:e.target.value}}}(t))},onPushChanges:function(t){e(function(e){return function(){var t=Object(S.a)(D.a.mark(function t(n,a){var r,o,c;return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().editor,o=r.projectBody,t.next=4,U.updateProjectBody(e,o);case 4:c=t.sent,console.log(c);case 6:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}(t))}}})(V),X=n(79),K=n.n(X);function Z(e,t){return function(){var n=Object(S.a)(D.a.mark(function n(a,r){var o,c,i,s,u,l,p;return D.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,o=r().request,c=r().authorization,i=o.motivation,s=c.uid,u=c.uName,l={uid:s,uName:u,motivation:i},(p=t||[]).push(l),n.next=11,U.sendRequest(e,p);case 11:n.sent,a($()),n.next=18;break;case 15:n.prev=15,n.t0=n.catch(0),console.log(n.t0.message);case 18:case"end":return n.stop()}},n,null,[[0,15]])}));return function(e,t){return n.apply(this,arguments)}}()}function $(){return{type:"SET_INITIAL_STATE",payload:{motivation:"I am the best..."}}}var ee=Object(v.b)(function(e){var t=e.request,n=e.authorization;return{motivation:t.motivation,isUserAuthorized:n.isUserAuthorized}},function(e){return{onChangeMotivation:function(t){e(function(e){return{type:"CHANGE_MOTIVATION",payload:{motivation:e.target.value}}}(t))},onSendRequest:function(t){e(function(e){return function(){var t=Object(S.a)(D.a.mark(function t(n){var a,r;return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.checkExistingRequests(e);case 3:a=t.sent,r=a.val(),n(Z(e,r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Error: "+t.t0.message);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()}(t))},onCancelRequest:function(){e({type:"SET_INITIAL_STATE",payload:{motivation:"I am the best..."}})}}})(function(e){var t=e.match.params.id;return e.isUserAuthorized<=0?r.a.createElement(E.a,{to:"/"}):r.a.createElement("div",{className:K.a.request},r.a.createElement("h2",null,"Why You"),r.a.createElement(Y.a,{className:K.a.description,html:e.motivation,onChange:e.onChangeMotivation}),r.a.createElement("div",null,r.a.createElement(j.b,{to:"/other-projects"},r.a.createElement(M,{onClickCancel:e.onCancelRequest})),r.a.createElement(j.b,{to:"/other-projects"},r.a.createElement(w,{text:"Send",onClickButton:e.onSendRequest.bind(void 0,t)}))))}),te=n(60),ne=n.n(te);var ae=Object(v.b)(function(e){var t=e.creating,n=e.authorization;return{nameProject:t.nameProject,descriptionProject:t.descriptionProject,isUserAuthorized:n.isUserAuthorized}},function(e){return{onChangeName:function(t){e(function(e){return{type:"CHANGE_NAME_PROJECT",payload:{nameProject:e.target.value}}}(t))},onChangeDescription:function(t){e(function(e){return{type:"CHANGE_DESCRIPTION_PROJECT",payload:{descriptionProject:e.target.value}}}(t))},createNewProject:function(){e(function(){var e=Object(S.a)(D.a.mark(function e(t,n){var a,r,o,c,i,s;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().creating,r=a.nameProject,o=a.descriptionProject,c=n().authorization,i=c.uid,s=c.uName,e.next=3,U.createNewProject(i,s,r,o);case 3:e.sent,console.log("new Project was created");case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())}}})(function(e){return e.isUserAuthorized<=0?r.a.createElement(E.a,{to:"/"}):r.a.createElement("div",{className:ne.a.creating},r.a.createElement("h1",null,"Create your own project"),r.a.createElement("h2",null,"Name"),r.a.createElement(Y.a,{className:ne.a.creatingName,html:e.nameProject,onChange:e.onChangeName}),r.a.createElement("h2",null,"Description"),r.a.createElement(Y.a,{className:ne.a.creatingDescription,html:e.descriptionProject,onChange:e.onChangeDescription}),r.a.createElement("div",null,r.a.createElement(j.b,{to:"/own-projects"},r.a.createElement(M,null)),r.a.createElement(j.b,{to:"/own-projects"},r.a.createElement(w,{text:"Accept",onClickButton:e.createNewProject}))))}),re=n(34),oe=n.n(re),ce=n(104);function ie(){return function(){var e=Object(S.a)(D.a.mark(function e(t,n){var a,r,o,c,i,s;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U.getUsersIds();case 2:for(i in a=e.sent,r=a.val(),o=n().authorization.uid,c=[],r)s=r[i].usersIds||[],r.hasOwnProperty(i)&&s.includes(o)&&c.push(i);t(ue(c)),t(se(c));case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}function se(e){return function(){var t=Object(S.a)(D.a.mark(function t(n){var a,r,o,c,i;return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,U.getFreeData();case 2:for(i in a=t.sent,r=a.val(),o=[],c=[],r)r.hasOwnProperty(i)&&(r[i].id=i,e.includes(i)?o.push(r[i]):c.push(r[i]));n(le(o,c));case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}function ue(e){return{type:"SET_OWN_PROJECTS_IDS",payload:e}}function le(e,t){return{type:"SET_PROJECTS_FREE_DATA",payload:{own:e,other:t}}}var pe=Object(v.b)(function(e){return{selectedId:e.projects.selectedId}},function(e){return{onSelectItem:function(t){e({type:"SET_SELECTED_PROJECT",payload:{selectedId:t}})}}})(function(e){var t=e.pageData,n=e.projectsData,a=e.onClickHandler,o=e.selectedId,c=e.onSelectItem,i=n.map(function(e,n){var i=e.id||e.uid||"",s=t.buttons.map(function(e,t){var n=e.dynamicLink?i:"";return e.link?r.a.createElement(j.b,{to:e.link+n,key:t},r.a.createElement(w,{styleButton:oe.a.itemButton,text:e.text})):r.a.createElement(w,{key:t,styleButton:oe.a.itemButton,text:e.text,onClickButton:function(e){return a(e)}})}),u=oe.a.projectItems;return o===i&&(u=oe.a.projectItemsSelected),r.a.createElement("div",{className:u,key:n,onClick:c.bind(void 0,i)},r.a.createElement("div",{className:oe.a.itemText},r.a.createElement("span",null,"#",n+1),r.a.createElement("span",null,e.title||e.uName)),r.a.createElement("div",null,s))});return r.a.createElement("div",null,i)}),de=n(80),me=n.n(de),he=function(e){var t=e.pageData,n=e.projectsData,a=e.onClickHandler;return r.a.createElement("div",{className:me.a.projectsList},r.a.createElement(j.b,{className:me.a.link,to:t.changeProjectListButton.link},r.a.createElement(w,{text:t.changeProjectListButton.text})),r.a.createElement("h1",{style:{textAlign:"center"}},t.title),r.a.createElement(pe,{pageData:t,projectsData:n,onClickHandler:a}))},fe=n(31),ve=n.n(fe);var je=Object(v.b)(function(e){return{selectedProjectId:e.projects.selectedProjectId}})(function(e){var t=e.selectedProjectId,n=e.projectsData.filter(function(e){return t===e.id})[0]||{},a=n.title||"Name Project",o=n.description||"Description",c=n.creatingDate||"Date",i=(n.usersNames||[""]).map(function(e,t){return r.a.createElement("span",{key:t},e)});return r.a.createElement("div",{className:ve.a.projectInfo},r.a.createElement("h2",null,a),r.a.createElement("p",{className:ve.a.description},o),r.a.createElement("div",{className:ve.a.usersNames},r.a.createElement("span",{className:ve.a.titleType},"Users:"),i),r.a.createElement("div",{className:ve.a.date},r.a.createElement("span",{className:ve.a.titleType},"Date of creation:"),r.a.createElement("span",null,c)))}),Ee=n(101),_e=n.n(Ee),ge=function(e){return r.a.createElement("div",{className:_e.a.projectCreate},r.a.createElement(j.b,{to:"/create"},r.a.createElement(w,{text:"Create New Project"})))},be=n(81),ye=n.n(be),Pe=n(61),Ce=n.n(Pe),Ne=function(e){return r.a.createElement("div",{className:Ce.a.motivation},r.a.createElement("h2",null,"User Name"),r.a.createElement("div",{className:Ce.a.motivationText},"Why you"),r.a.createElement("div",null,r.a.createElement(w,{styleButton:Ce.a.denyButton,text:"Deny"}),r.a.createElement(w,{text:"Accept"})))},we=function(e){var t=e.pageData,n=e.projectsData,a=e.withBlockForCreating,o=e.onClickHandler,c=void 0===o?null:o,i=a?r.a.createElement("div",{className:ye.a.rightColumn},r.a.createElement(je,{projectsData:n}),r.a.createElement(ge,null)):r.a.createElement(Ne,null);return r.a.createElement("div",{className:ye.a.projects},r.a.createElement("div",null,r.a.createElement(he,{pageData:t,projectsData:n,onClickHandler:c})),i)};function Oe(e){return{type:"SET_PROJECT_REQUESTS",payload:{projectRequests:e}}}var ke=function(e){function t(e){return Object(_.a)(this,t),Object(b.a)(this,Object(y.a)(t).call(this,e))}return Object(P.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,n=e.setRequests,a=e.clearId;n(t.params.id),a()}},{key:"render",value:function(){var e=this.props,t=e.invitationPage,n=e.projectRequests;return e.isUserAuthorized<=0?r.a.createElement(E.a,{to:"/"}):r.a.createElement(we,{pageData:t,projectsData:n,withBlockForCreating:!1})}}]),t}(a.Component);var xe=Object(v.b)(function(e){var t=e.invitation,n=e.authorization;return{invitationPage:t.invitationPage,projectRequests:t.projectRequests,isUserAuthorized:n.isUserAuthorized}},function(e){return{setRequests:function(t){e(function(e){return function(){var t=Object(S.a)(D.a.mark(function t(n){var a,r;return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.getProjectRequests(e);case 3:a=t.sent,r=a.val()||[],n(Oe(r)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()}(t))},clearId:function(){e({type:"SET_SELECTED_PROJECT",payload:{selectedId:""}})}}})(ke);var Ae=Object(v.b)(function(e){var t=e.projects,n=e.authorization;return{otherProjectsPage:t.otherProjectsPage,otherProjectsFreeData:t.otherProjectsFreeData,isUserAuthorized:n.isUserAuthorized}})(function(e){return e.isUserAuthorized<=0?r.a.createElement(E.a,{to:"/"}):r.a.createElement(we,{withBlockForCreating:!0,pageData:e.otherProjectsPage,projectsData:e.otherProjectsFreeData})}),Ie=function(e){function t(e){return Object(_.a)(this,t),Object(b.a)(this,Object(y.a)(t).call(this,e))}return Object(P.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.getDatabase()}},{key:"render",value:function(){var e=this.props;return e.isUserAuthorized<=0?r.a.createElement(E.a,{to:"/"}):r.a.createElement(we,{pageData:e.ownProjectsPage,projectsData:e.ownProjectsFreeData,withBlockForCreating:!0,onClickHandler:e.onLeaveProject})}}]),t}(a.Component);var Te=Object(v.b)(function(e){var t=e.projects,n=e.authorization;return{userProjectsIds:t.userProjectsIds,ownProjectsPage:t.ownProjectsPage,ownProjectsFreeData:t.ownProjectsFreeData,isUserAuthorized:n.isUserAuthorized}},function(e){return{getDatabase:function(){e(ie())},onLeaveProject:function(t){e(function(e){return function(){var t=Object(S.a)(D.a.mark(function t(n,a){var r,o,c,i,u,l,p,d,m,h,f,v;return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().authorization,o=r.uid,c=r.uName,t.next=5,U.getUsersIds(e);case 5:if(i=t.sent,u=i.val().usersIds,l=u.filter(function(e){return e!==o}),p=[],0!==l.length){t.next=15;break}return d=[],t.next=13,U.updateProjectBody(e,d);case 13:t.next=22;break;case 15:return t.next=17,U.getFreeData(e);case 17:m=t.sent,h=m.val(),f=Object(ce.a)(h.usersNames),v=f.filter(function(e){return c!==e}),p=Object(s.a)({},h,{usersNames:v});case 22:return t.next=24,U.updateUsersInProject(e,l,p);case 24:n(ie());case 25:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}(t))}}})(Ie),De=n(41),Se=n.n(De),Be=function(e){function t(e){return Object(_.a)(this,t),Object(b.a)(this,Object(y.a)(t).call(this,e))}return Object(P.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){this.props.handleAuthStatus()}},{key:"render",value:function(){var e=this.props,t=e.isUserAuthorized,n=e.location.pathname;return t>0?(n="/own-projects",r.a.createElement(E.a,{to:n})):t<0?r.a.createElement(E.a,{to:"/auth"}):r.a.createElement("div",{className:Se.a.loading},r.a.createElement("div",{className:Se.a.spinner},r.a.createElement("div",{className:Se.a.doubleBounce1}),r.a.createElement("div",{className:Se.a.doubleBounce2})))}}]),t}(a.Component);var Re=Object(v.b)(function(e){return{isUserAuthorized:e.authorization.isUserAuthorized}},function(e){return{handleAuthStatus:function(){e(function(e){U.handlerUserAuth().then(function(t){e(null!==t?z(t,1):z({uid:"",displayName:""},-1))}).catch(function(e){return console.log(e.message)})})}}})(Be),Ue=function(e){var t=e.store;return r.a.createElement(v.a,{store:t},r.a.createElement(j.a,null,r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/",component:Re}),r.a.createElement(E.b,{path:"/auth",component:L}),r.a.createElement(E.b,{path:"/editor/:id",component:Q}),r.a.createElement(E.b,{path:"/request/:id",component:ee}),r.a.createElement(E.b,{path:"/create",component:ae}),r.a.createElement(E.b,{path:"/own-projects",component:Te}),r.a.createElement(E.b,{path:"/other-projects",component:Ae}),r.a.createElement(E.b,{path:"/invitations/:id",component:xe}))))},ze=n(102),qe=n(103),Le=Object(i.createStore)(f,Object(qe.composeWithDevTools)(Object(i.applyMiddleware)(ze.a)));c.a.render(r.a.createElement(Ue,{store:Le}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},31:function(e,t,n){e.exports={projectInfo:"project-info_projectInfo__3bFr_",description:"project-info_description__GUGrF",titleType:"project-info_titleType__IF9CI",usersNames:"project-info_usersNames__2m6g-",date:"project-info_date__1Dh0g"}},34:function(e,t,n){e.exports={projectItems:"projects-item_projectItems__2Kge8",projectItemsSelected:"projects-item_projectItemsSelected__3dnIh",itemText:"projects-item_itemText__1F85u",itemButton:"projects-item_itemButton__1Tddy"}},41:function(e,t,n){e.exports={loading:"loading_loading__aGMZQ",spinner:"loading_spinner__yyCpl",doubleBounce1:"loading_doubleBounce1__3lYS8",doubleBounce2:"loading_doubleBounce2__2z_XN","sk-bounce":"loading_sk-bounce__3jTYc"}},59:function(e,t,n){e.exports={editor:"editor_editor__3xneX",projectText:"editor_projectText__2AO_5",buttons:"editor_buttons__2C2x5"}},60:function(e,t,n){e.exports={creating:"creating_creating__3b_32",creatingName:"creating_creatingName__K-7C_",creatingDescription:"creating_creatingDescription__3gdEj"}},61:function(e,t,n){e.exports={motivation:"motivation_motivation__12Qgt",motivationText:"motivation_motivationText__1PJdI",denyButton:"motivation_denyButton__16ffC"}},76:function(e,t,n){e.exports={input:"input_input__3HYfo",labelBlock:"input_labelBlock__1bhDZ"}},77:function(e,t,n){e.exports={authorization:"authorization_authorization__CCCCe",buttonsContainer:"authorization_buttonsContainer__Mpxh5"}},79:function(e,t,n){e.exports={request:"request_request__1-w7k",description:"request_description__1V6tt"}},80:function(e,t,n){e.exports={projectsList:"projects-list_projectsList__3np6v",link:"projects-list_link__OKAkO"}},81:function(e,t,n){e.exports={projects:"working-space_projects__Ov1gQ",rightColumn:"working-space_rightColumn__29GsN"}},98:function(e,t,n){e.exports={button:"button_button__RyD10"}}},[[105,1,2]]]);
//# sourceMappingURL=main.b70ddf24.chunk.js.map