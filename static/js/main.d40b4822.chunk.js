(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,n){e.exports={button:"button_button__RyD10"}},102:function(e,t,n){e.exports={cancelButton:"cancel-button_cancelButton__3hcP9"}},105:function(e,t,n){e.exports=n(199)},110:function(e,t,n){},199:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(57),c=n.n(o),s=(n(110),n(27)),i=n(2),u={userName:"",userEmail:"",userPassword:"",isUserAuthorized:0,uid:0,uName:""};var l={nameProject:"Name Project",descriptionProject:"It's my project..."};var p={userProjectsIds:[],ownProjectsFreeData:[],otherProjectsFreeData:[],ownProjectsPage:{title:"Your own projects",buttons:[{text:"Edit",link:"/editor/",dynamicLink:!0},{text:"Leave",link:""},{text:"Invite",link:"/invitations/",dynamicLink:!0}],changeProjectListButton:{text:"See other projects",link:"/other-projects"}},otherProjectsPage:{title:"Projects of other users",buttons:[{text:"Request",link:"/request/",dynamicLink:!0}],changeProjectListButton:{text:"See your own projects",link:"/own-projects"}},selectedId:""};var d={projectBody:"test"};var m={motivation:"I am the best..."};var h={invitationPage:{title:"Invite other user into your projects",buttons:[],changeProjectListButton:{text:"See your own projects",link:"/own-projects"}},projectRequests:[],selectedProject:"",selectedRequest:null};var f=Object(s.combineReducers)({authorization:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_NAME":return Object(i.a)({},e,{userName:t.payload.userName});case"CHANGE_EMAIL":return Object(i.a)({},e,{userEmail:t.payload.userEmail});case"CHANGE_PASSWORD":return Object(i.a)({},e,{userPassword:t.payload.userPassword});case"CLEAR_INPUTS":return Object(i.a)({},e,{userName:t.payload.userName,userEmail:t.payload.userEmail,userPassword:t.payload.userPassword});case"CHANGE_USER_STATUS":return Object(i.a)({},e,{uid:t.payload.uid,isUserAuthorized:t.payload.isUserAuthorized,uName:t.payload.uName});default:return e}},creating:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_NAME_PROJECT":return Object(i.a)({},e,{nameProject:t.payload.nameProject});case"CHANGE_DESCRIPTION_PROJECT":return Object(i.a)({},e,{descriptionProject:t.payload.descriptionProject});default:return e}},projects:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_OWN_PROJECTS_IDS":return Object(i.a)({},e,{userProjectsIds:t.payload});case"SET_PROJECTS_FREE_DATA":return Object(i.a)({},e,{ownProjectsFreeData:t.payload.own,otherProjectsFreeData:t.payload.other});case"SET_SELECTED_PROJECT":return Object(i.a)({},e,{selectedId:t.payload.selectedId});default:return e}},editor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PROJECT_BODY":case"CHANGE_PROJECT_TEXT":return Object(i.a)({},e,{projectBody:t.payload.text});default:return e}},request:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_MOTIVATION":case"SET_INITIAL_STATE":return Object(i.a)({},e,{motivation:t.payload.motivation});default:return e}},invitation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PROJECT_REQUESTS":return Object(i.a)({},e,{projectRequests:t.payload.projectRequests});case"SET_REQUEST":return Object(i.a)({},e,{selectedRequest:t.payload.selectedRequest});case"SET_INVITATION_PROJECT":return Object(i.a)({},e,{selectedProject:t.payload.selectedProject});default:return e}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var v=n(3),j=n(5),E=n(29),g=n(12),_=n(13),b=n(21),y=n(20),P=n(22),C=n(100),N=n.n(C),x=function(e){var t=e.styleButton||"";return r.a.createElement("button",{className:"".concat(N.a.button," ").concat(t),onClick:e.onClickButton},e.text)},O=n(77),w=n.n(O),k=function(e){return r.a.createElement("label",{className:w.a.labelBlock},e.name,r.a.createElement("br",null),r.a.createElement("input",{type:e.type,className:w.a.input,onChange:e.onChangeInput,value:e.inputValue}))},I=n(78),T=n.n(I),A=n(1),D=n.n(A),S=n(6),R=n(60),U=(n(191),n(192),{apiKey:"AIzaSyDwj-AbdZmydrTmGRY7ynn2ljezu-exkTI",authDomain:"texting-c6aa6.firebaseapp.com",databaseURL:"https://texting-c6aa6.firebaseio.com",projectId:"texting-c6aa6",storageBucket:"texting-c6aa6.appspot.com",messagingSenderId:"62385937036"}),B=new(function(){function e(){Object(g.a)(this,e),R.initializeApp(U),this.auth=R.auth(),this.db=R.database(),this.usersPath="projects/users/",this.usersArray="/usersIds/",this.freeDataPath="projects/freeData/",this.mainDataPath="projects/mainData/",this.requestsPath="/request/"}return Object(_.a)(e,[{key:"signIn",value:function(e,t){return this.auth.signInWithEmailAndPassword(e,t)}},{key:"register",value:function(){var e=Object(S.a)(D.a.mark(function e(t,n,a){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.auth.createUserWithEmailAndPassword(n,a);case 2:return e.abrupt("return",this.auth.currentUser.updateProfile({displayName:t}));case 3:case"end":return e.stop()}},e,this)}));return function(t,n,a){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){return this.auth.signOut()}},{key:"handlerUserAuth",value:function(){var e=this;return new Promise(function(t){e.auth.onAuthStateChanged(t)})}},{key:"createNewProject",value:function(){var e=Object(S.a)(D.a.mark(function e(t,n,a,r){var o,c,s,i,u,l;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=this.usersPath,c=this.freeDataPath,s=this.mainDataPath,i=new Date,u=i.getDate()+"."+(i.getMonth()+1)+"."+i.getFullYear(),e.next=7,this.db.ref().child("users").push().key;case 7:l=e.sent,this.db.ref("".concat(o).concat(l)).set({usersIds:[t]}),this.db.ref("".concat(c).concat(l)).set({usersNames:[n],title:a,description:r,creatingDate:u}),this.db.ref("".concat(s).concat(l)).set({body:""});case 11:case"end":return e.stop()}},e,this)}));return function(t,n,a,r){return e.apply(this,arguments)}}()},{key:"getUsersIds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.usersPath;return this.db.ref("".concat(t).concat(e)).once("value")}},{key:"getFreeData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.freeDataPath;return this.db.ref("".concat(t).concat(e)).once("value")}},{key:"getMainData",value:function(e){var t=this.mainDataPath;return this.db.ref("".concat(t).concat(e,"/body")).once("value")}},{key:"updateProjectBody",value:function(e,t){var n=this.mainDataPath,a={},r={body:t};return t||(r=[]),a["".concat(n).concat(e)]=r,this.db.ref().update(a)}},{key:"checkExistingRequests",value:function(e){var t=this.mainDataPath,n=this.requestsPath;return this.db.ref("".concat(t).concat(e).concat(n)).once("value")}},{key:"sendRequest",value:function(e,t,n){var a=this.mainDataPath,r=this.requestsPath;this.db.ref("".concat(a).concat(e).concat(r).concat(t)).set(n)}},{key:"updateUsersInProject",value:function(e,t,n){var a=this.usersPath,r=this.usersArray,o=this.freeDataPath,c={};return c["".concat(a).concat(e).concat(r)]=t,c["".concat(o).concat(e)]=n,this.db.ref().update(c)}},{key:"getProjectRequests",value:function(e){var t=this.mainDataPath,n=this.requestsPath;return this.db.ref("".concat(t).concat(e).concat(n)).once("value")}},{key:"removeRequest",value:function(e,t){var n=this.mainDataPath,a=this.requestsPath;this.db.ref("".concat(n).concat(e).concat(a).concat(t)).set([])}}]),e}());function q(e,t){if(e)return{type:"CHANGE_USER_STATUS",payload:{uid:e.uid||"",uName:e.displayName||"",isUserAuthorized:t}}}var z=function(e){function t(e){return Object(g.a)(this,t),Object(b.a)(this,Object(y.a)(t).call(this,e))}return Object(P.a)(t,e),Object(_.a)(t,[{key:"render",value:function(){var e=this.props;return e.isUserAuthorized>0?r.a.createElement(E.a,{to:"/"}):r.a.createElement("div",{className:T.a.authorization},r.a.createElement("h1",null,"Welcome"),r.a.createElement(k,{name:"Username",type:"text",onChangeInput:function(t){return e.onChangeName(t)},inputValue:e.userName}),r.a.createElement(k,{name:"Email",type:"email",onChangeInput:function(t){return e.onChangeEmail(t)},inputValue:e.userEmail}),r.a.createElement(k,{name:"Password",type:"password",onChangeInput:function(t){return e.onChangePassword(t)},inputValue:e.userPassword}),r.a.createElement("div",{className:T.a.buttonsContainer},r.a.createElement(j.b,{to:"/own-projects"},r.a.createElement(x,{text:"Sign in",onClickButton:e.onSignIn})),r.a.createElement(j.b,{to:"/own-projects"},r.a.createElement(x,{text:"Sign up",onClickButton:e.onSignUp}))))}}]),t}(a.Component);var L=Object(v.b)(function(e){var t=e.authorization;return{userName:t.userName,userEmail:t.userEmail,userPassword:t.userPassword,isUserAuthorized:t.isUserAuthorized}},function(e){return{onSignIn:function(){e(function(e,t){var n=t().authorization,a=n.userEmail,r=n.userPassword;B.signIn(a,r).then(function(t){var n=t.user;e(q(n,1)),e({type:"CLEAR_INPUTS",payload:{userName:"",userEmail:"",userPassword:""}})}).catch(function(t){console.log("Data: "+t.message),e({type:"CLEAR_INPUTS",payload:{userName:"",userEmail:"",userPassword:""}})})})},onSignUp:function(){e(function(e,t){var n=t().authorization,a=n.userName,r=n.userEmail,o=n.userPassword;B.register(a,r,o).then(function(t){var n=t.user;e(q(n,1)),e({type:"CLEAR_INPUTS",payload:{userName:"",userEmail:"",userPassword:""}})}).catch(function(t){var n=t.code,a=t.message;console.log(n,a),e({type:"CLEAR_INPUTS",payload:{userName:"",userEmail:"",userPassword:""}})})})},onChangeName:function(t){e(function(e){return{type:"CHANGE_NAME",payload:{userName:e.target.value}}}(t))},onChangeEmail:function(t){e(function(e){return{type:"CHANGE_EMAIL",payload:{userEmail:e.target.value}}}(t))},onChangePassword:function(t){e(function(e){return{type:"CHANGE_PASSWORD",payload:{userPassword:e.target.value}}}(t))}}})(z),F=n(61),H=n.n(F),J=n(102),G=n.n(J),M=function(e){var t=e.text||"Cancel";return r.a.createElement(x,{styleButton:G.a.cancelButton,text:t,onClickButton:e.onClickCancel})},W=n(30),V=n.n(W);var Y=function(e){function t(e){var n;return Object(g.a)(this,t),(n=Object(b.a)(this,Object(y.a)(t).call(this,e))).id=n.props.match.params.id,n}return Object(P.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.getProjectBody(this.id)}},{key:"render",value:function(){var e=this.props,t=this.id;return e.isUserAuthorized<=0?r.a.createElement(E.a,{to:"/"}):r.a.createElement("div",{className:H.a.editor},r.a.createElement(V.a,{className:H.a.projectText,html:e.projectBody,onChange:e.onChangeProjectText}),r.a.createElement("div",{className:H.a.buttons},r.a.createElement(M,{text:"Exit",onClickCancel:function(){return e.history.push("/own-projects")}}),r.a.createElement(x,{text:"Accept changes",onClickButton:e.onPushChanges.bind(this,t)})))}}]),t}(a.Component);var Q=Object(v.b)(function(e){var t=e.editor,n=e.authorization;return{projectBody:t.projectBody,isUserAuthorized:n.isUserAuthorized}},function(e){return{getProjectBody:function(t){var n;e((n=t,function(){var e=Object(S.a)(D.a.mark(function e(t){var a;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.getMainData(n);case 2:a=e.sent,t({type:"SET_PROJECT_BODY",payload:{text:a.val()}});case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()))},onChangeProjectText:function(t){e(function(e){return{type:"CHANGE_PROJECT_TEXT",payload:{text:e.target.value}}}(t))},onPushChanges:function(t){e(function(e){return function(){var t=Object(S.a)(D.a.mark(function t(n,a){var r,o,c;return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().editor,o=r.projectBody,t.next=4,B.updateProjectBody(e,o);case 4:c=t.sent,console.log(c);case 6:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}(t))}}})(Y),K=n(80),X=n.n(K);function Z(e){return function(){var t=Object(S.a)(D.a.mark(function t(n,a){var r,o,c,s,i,u;return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=a().request,o=a().authorization,c=r.motivation,s=o.uid,i=o.uName,u={uName:i,motivation:c},t.next=4,B.sendRequest(e,s,u);case 4:t.sent,n($()),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0.message);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e,n){return t.apply(this,arguments)}}()}function $(){return{type:"SET_INITIAL_STATE",payload:{motivation:"I am the best..."}}}var ee=Object(v.b)(function(e){var t=e.request,n=e.authorization;return{motivation:t.motivation,isUserAuthorized:n.isUserAuthorized}},function(e){return{onChangeMotivation:function(t){e(function(e){return{type:"CHANGE_MOTIVATION",payload:{motivation:e.target.value}}}(t))},onSendRequest:function(t){e(function(e){return function(){var t=Object(S.a)(D.a.mark(function t(n){return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.checkExistingRequests(e);case 3:t.sent.val(),n(Z(e)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("Error: "+t.t0.message);case 11:case"end":return t.stop()}},t,null,[[0,8]])}));return function(e){return t.apply(this,arguments)}}()}(t))},onCancelRequest:function(){e({type:"SET_INITIAL_STATE",payload:{motivation:"I am the best..."}})}}})(function(e){var t=e.match.params.id;return e.isUserAuthorized<=0?r.a.createElement(E.a,{to:"/"}):r.a.createElement("div",{className:X.a.request},r.a.createElement("h2",null,"Why You"),r.a.createElement(V.a,{className:X.a.description,html:e.motivation,onChange:e.onChangeMotivation}),r.a.createElement("div",null,r.a.createElement(j.b,{to:"/other-projects"},r.a.createElement(M,{onClickCancel:e.onCancelRequest})),r.a.createElement(j.b,{to:"/other-projects"},r.a.createElement(x,{text:"Send",onClickButton:e.onSendRequest.bind(void 0,t)}))))}),te=n(62),ne=n.n(te);var ae=Object(v.b)(function(e){var t=e.creating,n=e.authorization;return{nameProject:t.nameProject,descriptionProject:t.descriptionProject,isUserAuthorized:n.isUserAuthorized}},function(e){return{onChangeName:function(t){e(function(e){return{type:"CHANGE_NAME_PROJECT",payload:{nameProject:e.target.value}}}(t))},onChangeDescription:function(t){e(function(e){return{type:"CHANGE_DESCRIPTION_PROJECT",payload:{descriptionProject:e.target.value}}}(t))},createNewProject:function(){e(function(){var e=Object(S.a)(D.a.mark(function e(t,n){var a,r,o,c,s,i;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=n().creating,r=a.nameProject,o=a.descriptionProject,c=n().authorization,s=c.uid,i=c.uName,e.next=3,B.createNewProject(s,i,r,o);case 3:e.sent,console.log("new Project was created");case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}())}}})(function(e){return e.isUserAuthorized<=0?r.a.createElement(E.a,{to:"/"}):r.a.createElement("div",{className:ne.a.creating},r.a.createElement("h1",null,"Create your own project"),r.a.createElement("h2",null,"Name"),r.a.createElement(V.a,{className:ne.a.creatingName,html:e.nameProject,onChange:e.onChangeName}),r.a.createElement("h2",null,"Description"),r.a.createElement(V.a,{className:ne.a.creatingDescription,html:e.descriptionProject,onChange:e.onChangeDescription}),r.a.createElement("div",null,r.a.createElement(j.b,{to:"/own-projects"},r.a.createElement(M,null)),r.a.createElement(j.b,{to:"/own-projects"},r.a.createElement(x,{text:"Accept",onClickButton:e.createNewProject}))))}),re=n(31),oe=n.n(re),ce=n(59);function se(){return function(){var e=Object(S.a)(D.a.mark(function e(t,n){var a,r,o,c,s,i;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,B.getUsersIds();case 2:for(s in a=e.sent,r=a.val(),o=n().authorization.uid,c=[],r)i=r[s].usersIds||[],r.hasOwnProperty(s)&&i.includes(o)&&c.push(s);t(ue(c)),t(ie(c));case 9:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}()}function ie(e){return function(){var t=Object(S.a)(D.a.mark(function t(n){var a,r,o,c,s;return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B.getFreeData();case 2:for(s in a=t.sent,r=a.val(),o=[],c=[],r)r.hasOwnProperty(s)&&(r[s].id=s,e.includes(s)?o.push(r[s]):c.push(r[s]));n(le(o,c));case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}function ue(e){return{type:"SET_OWN_PROJECTS_IDS",payload:e}}function le(e,t){return{type:"SET_PROJECTS_FREE_DATA",payload:{own:e,other:t}}}var pe=Object(v.b)(function(e){return{selectedId:e.projects.selectedId}},function(e){return{onSelectItem:function(t){e({type:"SET_SELECTED_PROJECT",payload:{selectedId:t}})}}})(function(e){var t=e.pageData,n=e.projectsData,a=e.onClickHandler,o=e.selectedId,c=e.onSelectItem,s=n.map(function(e,n){var s=e.id||e.uid||"",i=t.buttons.map(function(e,t){var n=e.dynamicLink?s:"";return e.link?r.a.createElement(j.b,{to:e.link+n,key:t},r.a.createElement(x,{styleButton:oe.a.itemButton,text:e.text})):r.a.createElement(x,{key:t,styleButton:oe.a.itemButton,text:e.text,onClickButton:a.bind({},s)})}),u=oe.a.projectItems;return o===s&&(u=oe.a.projectItemsSelected),r.a.createElement("div",{className:u,key:n,onClick:c.bind(void 0,s)},r.a.createElement("div",{className:oe.a.itemText},r.a.createElement("span",null,"#",n+1),r.a.createElement("span",{className:oe.a.projectTitle},e.title||e.uName)),r.a.createElement("div",null,i))});return r.a.createElement("div",null,s)}),de=n(81),me=n.n(de),he=function(e){var t=e.pageData,n=e.projectsData,a=e.onClickHandler;return r.a.createElement("div",{className:me.a.projectsList},r.a.createElement(j.b,{className:me.a.link,to:t.changeProjectListButton.link},r.a.createElement(x,{text:t.changeProjectListButton.text})),r.a.createElement("h1",{style:{textAlign:"center"}},t.title),r.a.createElement(pe,{pageData:t,projectsData:n,onClickHandler:a}))},fe=n(32),ve=n.n(fe);var je=Object(v.b)(function(e){return{selectedId:e.projects.selectedId}})(function(e){var t=e.selectedId,n=e.projectsData.filter(function(e){return t===e.id})[0]||{},a=n.title||"Name Project",o=n.description||"Description",c=n.creatingDate||"Date",s=(n.usersNames||[""]).map(function(e,t){return r.a.createElement("span",{key:t},e)});return r.a.createElement("div",{className:ve.a.projectInfo},r.a.createElement("h2",null,a),r.a.createElement("p",{className:ve.a.description},o),r.a.createElement("div",{className:ve.a.usersNames},r.a.createElement("span",{className:ve.a.titleType},"Users:"),s),r.a.createElement("div",{className:ve.a.date},r.a.createElement("span",{className:ve.a.titleType},"Date of creation:"),r.a.createElement("span",null,c)))}),Ee=n(82),ge=n.n(Ee);var _e=Object(v.b)(null,function(e){return{onSignOut:function(){e(function(){var e=Object(S.a)(D.a.mark(function e(t){return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.signOut();case 3:t(q({uid:"",displayName:""},-1)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}())}}})(function(e){var t=e.onSignOut;return r.a.createElement("div",{className:ge.a.projectCreate},r.a.createElement(j.b,{to:"/create"},r.a.createElement(x,{text:"Create New Project",styleButton:ge.a.createButton})),r.a.createElement(M,{text:"Sign out",onClickCancel:t}))}),be=n(83),ye=n.n(be),Pe=n(41),Ce=n.n(Pe);function Ne(e){return function(){var t=Object(S.a)(D.a.mark(function t(n){var a,r,o,c,s;return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.getProjectRequests(e);case 3:if(a=t.sent,(r=a.val()||[]).length){t.next=10;break}for(c in o=[],r)r.hasOwnProperty(c)&&((s=Object(i.a)({},r[c])).uid=c,o.push(s));return n(xe(o)),t.abrupt("return");case 10:n(xe(r)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0.message);case 16:case"end":return t.stop()}},t,null,[[0,13]])}));return function(e){return t.apply(this,arguments)}}()}function xe(e){return{type:"SET_PROJECT_REQUESTS",payload:{projectRequests:e}}}function Oe(){return function(){var e=Object(S.a)(D.a.mark(function e(t,n){var a,r,o,c;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n().invitation,r=n().projects,o=a.selectedProject,c=r.selectedId,e.next=4,B.removeRequest(o,c);case 4:return e.next=6,t(Ne(o));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}},e,null,[[0,8]])}));return function(t,n){return e.apply(this,arguments)}}()}var we=Object(v.b)(function(e){var t=e.projects,n=e.invitation;return{selectedId:t.selectedId,projectRequests:n.projectRequests,selectedRequest:n.selectedRequest}},function(e){return{findSelectedRequest:function(t,n){e(function(e,t){return{type:"SET_REQUEST",payload:{selectedRequest:e.filter(function(e){return t===e.uid})[0]||null}}}(t,n))},removeRequest:function(){e(Oe())},acceptUser:function(){e(function(){var e=Object(S.a)(D.a.mark(function e(t,n){var a,r,o,c,s,i,u,l,p,d;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n().invitation,r=a.selectedProject,o=a.selectedRequest,c=o.uid,s=o.uName,e.next=8,B.getUsersIds(r);case 8:return i=e.sent,u=i.val(),l=u.usersIds,e.next=13,B.getFreeData(r);case 13:return p=e.sent,d=p.val(),l.push(c),d.usersNames=[].concat(Object(ce.a)(d.usersNames),[s]),e.next=19,B.updateUsersInProject(r,l,d);case 19:return e.next=21,t(Oe());case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0.message);case 26:case"end":return e.stop()}},e,null,[[0,23]])}));return function(t,n){return e.apply(this,arguments)}}())}}})(function(e){return e.findSelectedRequest(e.projectRequests,e.selectedId),e.selectedRequest?r.a.createElement("div",{className:Ce.a.motivation},r.a.createElement("h2",null,e.selectedRequest.uName),r.a.createElement("div",{className:Ce.a.motivationText},e.selectedRequest.motivation),r.a.createElement("div",null,r.a.createElement(M,{text:"Deny",onClickCancel:e.removeRequest}),r.a.createElement(x,{text:"Accept",onClickButton:e.acceptUser}))):r.a.createElement("div",{className:Ce.a.motivation},r.a.createElement("h2",null,"User Name"),r.a.createElement("div",{className:Ce.a.motivationText},"His offer"))}),ke=function(e){e.match;var t=e.pageData,n=e.projectsData,a=e.withBlockForCreating,o=e.onClickHandler,c=void 0===o?null:o,s=a?r.a.createElement("div",{className:ye.a.rightColumn},r.a.createElement(je,{projectsData:n}),r.a.createElement(_e,null)):r.a.createElement(we,null);return r.a.createElement("div",{className:ye.a.projects},r.a.createElement("div",null,r.a.createElement(he,{pageData:t,projectsData:n,onClickHandler:c})),s)},Ie=function(e){function t(e){return Object(g.a)(this,t),Object(b.a)(this,Object(y.a)(t).call(this,e))}return Object(P.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.match,n=e.setRequests,a=e.clearId,r=e.setProjectId,o=t.params.id;n(o),r(o),a()}},{key:"render",value:function(){var e=this.props,t=e.invitationPage,n=e.projectRequests;return e.isUserAuthorized<=0?r.a.createElement(E.a,{to:"/"}):r.a.createElement(ke,{pageData:t,projectsData:n,withBlockForCreating:!1})}}]),t}(a.Component);var Te=Object(v.b)(function(e){var t=e.invitation,n=e.authorization;return{invitationPage:t.invitationPage,projectRequests:t.projectRequests,isUserAuthorized:n.isUserAuthorized}},function(e){return{setRequests:function(t){e(Ne(t))},clearId:function(){e({type:"SET_SELECTED_PROJECT",payload:{selectedId:""}})},setProjectId:function(t){e({type:"SET_INVITATION_PROJECT",payload:{selectedProject:t}})}}})(Ie);var Ae=Object(v.b)(function(e){var t=e.projects,n=e.authorization;return{otherProjectsPage:t.otherProjectsPage,otherProjectsFreeData:t.otherProjectsFreeData,isUserAuthorized:n.isUserAuthorized}})(function(e){return e.isUserAuthorized<=0?r.a.createElement(E.a,{to:"/"}):r.a.createElement(ke,{withBlockForCreating:!0,pageData:e.otherProjectsPage,projectsData:e.otherProjectsFreeData})}),De=function(e){function t(e){return Object(g.a)(this,t),Object(b.a)(this,Object(y.a)(t).call(this,e))}return Object(P.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.getDatabase()}},{key:"render",value:function(){var e=this.props;return e.isUserAuthorized<=0?r.a.createElement(E.a,{to:"/"}):r.a.createElement(ke,{pageData:e.ownProjectsPage,projectsData:e.ownProjectsFreeData,withBlockForCreating:!0,onClickHandler:e.onLeaveProject})}}]),t}(a.Component);var Se=Object(v.b)(function(e){var t=e.projects,n=e.authorization;return{userProjectsIds:t.userProjectsIds,ownProjectsPage:t.ownProjectsPage,ownProjectsFreeData:t.ownProjectsFreeData,isUserAuthorized:n.isUserAuthorized}},function(e){return{getDatabase:function(){e(se())},onLeaveProject:function(t){e(function(e){return function(){var t=Object(S.a)(D.a.mark(function t(n,a){var r,o,c,s,u,l,p,d,m,h,f;return D.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=a().authorization,o=r.uid,c=r.uName,t.next=5,B.getUsersIds(e);case 5:if(s=t.sent,u=s.val().usersIds,l=u.filter(function(e){return e!==o}),p=[],0!==l.length){t.next=15;break}return t.next=13,B.updateProjectBody(e,"");case 13:t.next=22;break;case 15:return t.next=17,B.getFreeData(e);case 17:d=t.sent,m=d.val(),h=Object(ce.a)(m.usersNames),f=h.filter(function(e){return c!==e}),p=Object(i.a)({},m,{usersNames:f});case 22:return t.next=24,B.updateUsersInProject(e,l,p);case 24:n(se());case 25:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}()}(t))}}})(De),Re=n(42),Ue=n.n(Re),Be=function(e){function t(e){return Object(g.a)(this,t),Object(b.a)(this,Object(y.a)(t).call(this,e))}return Object(P.a)(t,e),Object(_.a)(t,[{key:"componentDidMount",value:function(){this.props.handleAuthStatus()}},{key:"render",value:function(){var e=this.props,t=e.isUserAuthorized,n=e.location.pathname;return t>0?(n="/own-projects",r.a.createElement(E.a,{to:n})):t<0?r.a.createElement(E.a,{to:"/auth"}):r.a.createElement("div",{className:Ue.a.loading},r.a.createElement("div",{className:Ue.a.spinner},r.a.createElement("div",{className:Ue.a.doubleBounce1}),r.a.createElement("div",{className:Ue.a.doubleBounce2})))}}]),t}(a.Component);var qe=Object(v.b)(function(e){return{isUserAuthorized:e.authorization.isUserAuthorized}},function(e){return{handleAuthStatus:function(){e(function(e){B.handlerUserAuth().then(function(t){e(null!==t?q(t,1):q({uid:"",displayName:""},-1))}).catch(function(e){return console.log(e.message)})})}}})(Be),ze=function(e){var t=e.store;return r.a.createElement(v.a,{store:t},r.a.createElement(j.a,null,r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/",component:qe}),r.a.createElement(E.b,{exact:!0,path:"/auth",component:L}),r.a.createElement(E.b,{exact:!0,path:"/editor/:id",component:Q}),r.a.createElement(E.b,{exact:!0,path:"/request/:id",component:ee}),r.a.createElement(E.b,{exact:!0,path:"/create",component:ae}),r.a.createElement(E.b,{exact:!0,path:"/own-projects",component:Se}),r.a.createElement(E.b,{exact:!0,path:"/other-projects",component:Ae}),r.a.createElement(E.b,{exact:!0,path:"/invitations/:id",component:Te}))))},Le=n(103),Fe=n(104),He=Object(s.createStore)(f,Object(Fe.composeWithDevTools)(Object(s.applyMiddleware)(Le.a)));c.a.render(r.a.createElement(ze,{store:He}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},31:function(e,t,n){e.exports={projectItems:"projects-item_projectItems__2Kge8",projectItemsSelected:"projects-item_projectItemsSelected__3dnIh",itemText:"projects-item_itemText__1F85u",projectTitle:"projects-item_projectTitle__1MzZ7",itemButton:"projects-item_itemButton__1Tddy"}},32:function(e,t,n){e.exports={projectInfo:"project-info_projectInfo__3bFr_",description:"project-info_description__GUGrF",titleType:"project-info_titleType__IF9CI",usersNames:"project-info_usersNames__2m6g-",date:"project-info_date__1Dh0g"}},41:function(e,t,n){e.exports={motivation:"motivation_motivation__12Qgt",motivationText:"motivation_motivationText__1PJdI",denyButton:"motivation_denyButton__16ffC"}},42:function(e,t,n){e.exports={loading:"loading_loading__aGMZQ",spinner:"loading_spinner__yyCpl",doubleBounce1:"loading_doubleBounce1__3lYS8",doubleBounce2:"loading_doubleBounce2__2z_XN","sk-bounce":"loading_sk-bounce__3jTYc"}},61:function(e,t,n){e.exports={editor:"editor_editor__3xneX",projectText:"editor_projectText__2AO_5",buttons:"editor_buttons__2C2x5"}},62:function(e,t,n){e.exports={creating:"creating_creating__3b_32",creatingName:"creating_creatingName__K-7C_",creatingDescription:"creating_creatingDescription__3gdEj"}},77:function(e,t,n){e.exports={input:"input_input__3HYfo",labelBlock:"input_labelBlock__1bhDZ"}},78:function(e,t,n){e.exports={authorization:"authorization_authorization__CCCCe",buttonsContainer:"authorization_buttonsContainer__Mpxh5"}},80:function(e,t,n){e.exports={request:"request_request__1-w7k",description:"request_description__1V6tt"}},81:function(e,t,n){e.exports={projectsList:"projects-list_projectsList__3np6v",link:"projects-list_link__OKAkO"}},82:function(e,t,n){e.exports={projectCreate:"project-manage_projectCreate__1WASl",createButton:"project-manage_createButton__SRxOj"}},83:function(e,t,n){e.exports={projects:"working-space_projects__Ov1gQ",rightColumn:"working-space_rightColumn__29GsN"}}},[[105,1,2]]]);
//# sourceMappingURL=main.d40b4822.chunk.js.map